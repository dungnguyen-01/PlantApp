"use strict";(self["webpackChunk_coreui_coreui_free_vue_admin_template"]=self["webpackChunk_coreui_coreui_free_vue_admin_template"]||[]).push([[215],{4303:function(e,t,s){var a=s(6265),i=s.n(a),o=s(8);const n="https://api.kintovn.com/api/v1/location/";class r{getAllLocations(e){return i().get(n+"list"+e,{headers:(0,o.Z)()})}getLocations(e){return i().get(n+e,{headers:(0,o.Z)()})}getLocationById(e){return i().get(n+e,{headers:(0,o.Z)()})}createLocation(e){return i().post(n,e,{headers:(0,o.Z)()})}updateLocation(e,t){return i().put(n+e,t,{headers:(0,o.Z)()})}deleteLocationById(e){return i().get(n+"delete/"+e,{headers:(0,o.Z)()})}}t["Z"]=new r},4215:function(e,t,s){s.r(t),s.d(t,{default:function(){return U}});var a=s(3396),i=s(9242),o=s(7139);const n=(0,a.Uk)(" Form Location "),r={class:"float-end text-danger"},l={class:"row mx-md-2"},c={class:"col-md-6"},d=(0,a._)("label",{for:"id",class:"form-label text"},"Id:",-1),u={class:"col-md-6"},h=(0,a._)("label",{for:"code",class:"form-label text"},"Code:",-1),p=(0,a._)("i",{class:"text-danger"},null,-1),m={class:"col"},g=(0,a._)("label",{for:"address",class:"form-label text"},"Address:",-1),f={class:"text-center my-1"},_=(0,a.Uk)(" Back "),L={class:"btn btn-outline-primary rounded-pill ms-2 px-4",title:"create",type:"submit"},w=(0,a.Uk)(" Create "),b={class:"btn btn-outline-success rounded-pill ms-2 px-4",title:"update",type:"submit"},y=(0,a.Uk)(" Update "),C=(0,a.Uk)(" Reset ");function k(e,t,s,k,v,x){const $=(0,a.up)("CIcon"),W=(0,a.up)("CCardHeader"),Z=(0,a.up)("CRow"),U=(0,a.up)("CCardBody"),z=(0,a.up)("CCardFooter"),F=(0,a.up)("CCard"),I=(0,a.up)("CCol"),A=(0,a.up)("Loading");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(I,null,{default:(0,a.w5)((()=>[(0,a.Wm)(F,null,{default:(0,a.w5)((()=>[(0,a._)("form",{onSubmit:t[5]||(t[5]=(0,i.iM)((e=>"null"==this.$route.params.id?x.createLocation():x.updateLocation()),["prevent"]))},[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)($,{icon:"cil-drop"}),n,(0,a._)("span",r,(0,o.zw)(v.message),1)])),_:1}),(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Z,null,{default:(0,a.w5)((()=>[(0,a._)("div",l,[(0,a._)("div",c,[d,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control bg-light",placeholder:"id auto increment...",name:"id",readonly:"","onUpdate:modelValue":t[0]||(t[0]=e=>v.id=e)},null,512),[[i.nr,v.id]])]),(0,a._)("div",u,[h,p,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"enter 3 to 5 characters...",name:"code","onUpdate:modelValue":t[1]||(t[1]=e=>v.code=e),required:""},null,512),[[i.nr,v.code]])]),(0,a._)("div",m,[g,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"address...",name:"address","onUpdate:modelValue":t[2]||(t[2]=e=>v.address=e),required:""},null,512),[[i.nr,v.address]])])])])),_:1})])),_:1}),(0,a.Wm)(z,null,{default:(0,a.w5)((()=>[(0,a._)("div",f,[(0,a._)("button",{class:"btn btn-outline-info rounded-pill px-4",title:"back to list",onClick:t[3]||(t[3]=e=>x.backToList())},[(0,a.Wm)($,{icon:k.icon.cilArrowLeft,size:"m"},null,8,["icon"]),_]),(0,a.wy)((0,a._)("button",L,[(0,a.Wm)($,{icon:k.icon.cilPen,size:"m"},null,8,["icon"]),w],512),[[i.F8,"null"==this.$route.params.id]]),(0,a.wy)((0,a._)("button",b,[(0,a.Wm)($,{icon:k.icon.cilTrash,size:"m"},null,8,["icon"]),y],512),[[i.F8,"null"!=this.$route.params.id]]),(0,a._)("button",{class:"btn btn-outline-warning rounded-pill ms-2 px-4",title:"reset",onClick:t[4]||(t[4]=e=>x.resetForm())},[(0,a.Wm)($,{icon:k.icon.cilReload,size:"m"},null,8,["icon"]),C])])])),_:1})],32)])),_:1})])),_:1})])),_:1}),(0,a.Wm)(A,{active:v.isLoading,"onUpdate:active":t[6]||(t[6]=e=>v.isLoading=e)},null,8,["active"])],64)}s(7658);var v=s(4303),x=s(6867),$={name:"FormLoaction",data(){return{id:"",address:"",organization:this.$store.state.auth.user.user.organization,code:"",message:"",isLoading:!1}},computed:{locationId(){return this.$route.params.id}},methods:{getDetailLocation(){"null"!==this.locationId&&(this.isLoading=!0,v.Z.getLocationById(this.locationId).then((e=>{200==e.status&&(this.isLoading=!1,this.id=e.data.id,this.address=e.data.address,this.code=e.data.code)})).catch((()=>{this.isLoading=!1,this.$swal.fire("Warning!","The system is experiencing an error, please reload the page","warning")})))},async createLocation(){0==this.onlyLetters(this.code)||this.code.length<=2||this.code.length>=6?this.message="enter 3 to 5 characters and numbers (A-Z, 0-9) without spaces and special characters.":(this.isLoading=!0,await v.Z.createLocation({address:this.address,organization:this.organization,code:this.code.toUpperCase()}).then((e=>{200==e.status&&(this.isLoading=!1,this.$swal.fire("Success!","Create successfully!","success"),this.$router.push("/location/list-location"))})).catch((e=>{this.isLoading=!1,this.$swal.fire("Failed!","Please check again!","error"),this.message=e.response.data.error})))},updateLocation(){0==this.onlyLetters(this.code)||this.code.length<=2||this.code.length>=6?this.message="enter 3 to 5 characters and numbers (A-Z, 0-9) without spaces and special characters.":(this.isLoading=!0,v.Z.updateLocation(this.id,{address:this.address,organization:this.organization,code:this.code.toUpperCase()}).then((e=>{200==e.status&&(this.isLoading=!1,this.$swal.fire("Success!","Update successfully!","success"),this.$router.push("/location/list-location"))})).catch((e=>{this.isLoading=!1,this.$swal.fire("Failed!","Please check again!","error"),this.message=e.response.data.error})))},onlyLetters(e){return/^[A-Z0-9]+$/.test(e)},resetForm(){this.$router.push("/location/form-location/null"),this.id="",this.address="",this.message=""},backToList(){this.$router.push("/location/list-location")}},setup(){return{icon:x}},created(){this.getDetailLocation()}},W=s(89);const Z=(0,W.Z)($,[["render",k]]);var U=Z}}]);
//# sourceMappingURL=215.73971f81.js.map