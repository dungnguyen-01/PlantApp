{"version":3,"file":"js/849.1b6d354d.js","mappings":"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","sources":["webpack://@coreui/coreui-free-vue-admin-template/./src/Repositories/OrganizationRepository.js","webpack://@coreui/coreui-free-vue-admin-template/./src/views/pages/Register.vue","webpack://@coreui/coreui-free-vue-admin-template/./src/views/pages/Register.vue?477d"],"sourcesContent":["import axios from 'axios'\nconst api = process.env.VUE_APP_MODE + '/organization/'\nimport authHeader from '../services/auth-header'\nclass OrganizationRepository {\n  getAllOrganizations() {\n    return axios.get(api + 'list', { headers: authHeader() })\n  }\n  getAllSelectByUserOrganizations() {\n    return axios.get(api + 'list-user', { headers: authHeader() })\n  }\n  getOrganizations(page) {\n    return axios.get(api + page, { headers: authHeader() })\n  }\n  getOrganizationById(id) {\n    return axios.get(api + id, { headers: authHeader() })\n  }\n  createOrganization(organization) {\n    return axios.post(api, organization, { headers: authHeader() })\n  }\n  updateOrganization(id, organization) {\n    return axios.put(api + id, organization, { headers: authHeader() })\n  }\n  deleteOrganizationById(id) {\n    return axios.get(api + 'delete/' + id, { headers: authHeader() })\n  }\n}\nexport default new OrganizationRepository()\n","<template>\n  <div class=\"bg-light min-vh-100 d-flex flex-row align-items-center\">\n    <CContainer>\n      <CRow class=\"justify-content-center\">\n        <CCol :md=\"12\" :lg=\"10\" :xl=\"6\">\n          <CCard class=\"mx-4 mx-sm-0\">\n            <CCardBody class=\"p-4\">\n              <CForm @submit.prevent=\"submit\">\n                <h1 class=\"mb-5\">Register</h1>\n                <p class=\"text-medium-emphasis\">\n                  <i class=\"text-danger float-end\">{{ message }}</i>\n                </p>\n                <CInputGroup class=\"mb-3\">\n                  <CInputGroupText>\n                    <CIcon icon=\"cil-user\" />\n                  </CInputGroupText>\n                  <CFormInput\n                    placeholder=\"Fullname\"\n                    autocomplete=\"fullname\"\n                    v-model=\"fullname\"\n                    required\n                  />\n                </CInputGroup>\n                <CInputGroup class=\"mb-3\">\n                  <CInputGroupText>@</CInputGroupText>\n                  <CFormInput\n                    placeholder=\"Email\"\n                    autocomplete=\"email\"\n                    v-model=\"email\"\n                    required\n                    type=\"email\"\n                  />\n                </CInputGroup>\n                <CInputGroup class=\"mb-3\">\n                  <CInputGroupText>\n                    <CIcon icon=\"cil-lock-locked\" />\n                  </CInputGroupText>\n                  <CFormInput\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    autocomplete=\"new-password\"\n                    v-model=\"password\"\n                    required\n                  />\n                </CInputGroup>\n                <CInputGroup class=\"mb-3\">\n                  <CInputGroupText>\n                    <CIcon icon=\"cil-lock-locked\" />\n                  </CInputGroupText>\n                  <CFormInput\n                    type=\"password\"\n                    placeholder=\"Repeat password\"\n                    autocomplete=\"new-password\"\n                    v-model=\"repeatPassword\"\n                    required\n                  />\n                </CInputGroup>\n                <div class=\"d-grid\">\n                  <CButton color=\"success\" type=\"submit\"\n                    >Create Account</CButton\n                  >\n                </div>\n              </CForm>\n            </CCardBody>\n          </CCard>\n        </CCol>\n      </CRow>\n    </CContainer>\n  </div>\n  <CModal\n    ref=\"my-modal\"\n    backdrop=\"static\"\n    :visible=\"xlDemo\"\n    @close=\"\n      () => {\n        xlDemo = false\n      }\n    \"\n  >\n    <CModalHeader>\n      <CModalTitle>Chose organization</CModalTitle>\n    </CModalHeader>\n    <CModalBody>\n      <div class=\"mb-5\">\n        <label for=\"createAt\" class=\"form-label text\">Organization:</label>\n        <i class=\"text-danger float-end\">{{ message }}</i>\n        <v-select\n          v-model=\"organizationSelected\"\n          :options=\"options\"\n          label=\"name\"\n          :reduce=\"(name) => name.id\"\n        />\n      </div>\n    </CModalBody>\n    <CModalFooter>\n      <CButton\n        color=\"secondary\"\n        @click=\"\n          () => {\n            xlDemo = false\n          }\n        \"\n      >\n        Close\n      </CButton>\n      <CButton color=\"primary\" @click=\"handleRegister()\">Register</CButton>\n    </CModalFooter>\n  </CModal>\n  <Loading v-model:active=\"isLoading\" />\n</template>\n\n<script>\nimport UserRepository from '@/Repositories/UserRepository'\nimport OrganizationRepository from '@/Repositories/OrganizationRepository'\nexport default {\n  name: 'Register',\n  data() {\n    return {\n      fullname: '',\n      email: '',\n      password: '',\n      repeatPassword: '',\n      message: '',\n      organizationSelected: 'Chose organization...',\n      xlDemo: false,\n      isLoading: false,\n      options: [],\n    }\n  },\n  methods: {\n    async submit() {\n      if (this.password != this.repeatPassword) {\n        this.message = 'Repeat password & Password need in the same!'\n      } else {\n        this.xlDemo = true\n      }\n    },\n    async handleRegister() {\n      if (this.organizationSelected == 'Chose organization...') {\n        this.message = 'Please select a organization'\n      } else {\n        this.isLoading = true\n        await UserRepository.register({\n          fullname: this.fullname,\n          password: this.password,\n          email: this.email,\n          orgId: this.organizationSelected,\n        })\n          .then((res) => {\n            setTimeout(() => {\n              if (res.status == 200) {\n                this.isLoading = false\n                this.$swal.fire(\n                  'Register Success!',\n                  'Now go to login!',\n                  'success',\n                )\n                this.$router.push('/pages/login')\n              }\n            }, 2000)\n          })\n          .catch((error) => {\n            setTimeout(() => {\n              this.isLoading = false\n              this.xlDemo = false\n            }, 1500)\n            this.$swal.fire('Register failed!', 'Please check again!', 'error')\n            if (error.response.this.error == this.email + ' already exits!') {\n              this.message = error.response.this.error\n            } else {\n              this.message = 'The system is crashing, please try again later'\n            }\n          })\n      }\n    },\n    getOrganizationRepository() {\n      OrganizationRepository.getAllOrganizations().then((response) => {\n        this.options = response.data\n      })\n    },\n  },\n  created() {\n    this.getOrganizationRepository()\n  },\n  watch: {\n    organizationSelected(newQuestion, oldQuestion) {\n      if (newQuestion != oldQuestion) {\n        if (newQuestion !== 'Chose organization...') {\n          this.organizationSelected = newQuestion\n        }\n      }\n    },\n  },\n}\n</script>\n","import { render } from \"./Register.vue?vue&type=template&id=4203b4e4\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/ProjectJava/Kinto-Frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["api","process","OrganizationRepository","getAllOrganizations","axios","headers","authHeader","getAllSelectByUserOrganizations","getOrganizations","page","getOrganizationById","id","createOrganization","organization","updateOrganization","deleteOrganizationById","class","_createElementVNode","for","_createVNode","_component_CContainer","_component_CRow","_component_CCol","md","lg","xl","_component_CCard","_component_CCardBody","_component_CForm","onSubmit","$options","_hoisted_2","_toDisplayString","$data","_component_CInputGroup","_component_CInputGroupText","_component_CIcon","icon","_component_CFormInput","placeholder","autocomplete","$event","required","type","_component_CButton","color","_component_CModal","ref","backdrop","visible","onClose","_component_CModalHeader","_component_CModalTitle","_component_CModalBody","_hoisted_10","_component_v_select","options","label","reduce","name","_component_CModalFooter","onClick","_component_Loading","active","data","fullname","email","password","repeatPassword","message","organizationSelected","xlDemo","isLoading","methods","async","this","UserRepository","orgId","then","res","setTimeout","status","$swal","fire","$router","push","catch","error","response","getOrganizationRepository","created","watch","newQuestion","oldQuestion","__exports__","render"],"sourceRoot":""}