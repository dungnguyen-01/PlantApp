"use strict";(self["webpackChunk_coreui_coreui_free_vue_admin_template"]=self["webpackChunk_coreui_coreui_free_vue_admin_template"]||[]).push([[665],{2872:function(e,t,l){var a=l(6265),n=l.n(a),i=l(8);const s="https://api.kintovn.com/api/v1/plant-type/";class o{getAllPlantTypes(e){return n().get(s+"list"+e,{headers:(0,i.Z)()})}getPlantTypes(e){return n().get(s+e,{headers:(0,i.Z)()})}getPlantTypeById(e){return n().get(s+e,{headers:(0,i.Z)()})}createPlantType(e){return n().post(s,e,{headers:(0,i.Z)()})}updatePlantType(e,t){return n().put(s+e,t,{headers:(0,i.Z)()})}deletePlantTypeById(e){return n().get(s+"delete/"+e,{headers:(0,i.Z)()})}}t["Z"]=new o},1665:function(e,t,l){l.r(t),l.d(t,{default:function(){return L}});var a=l(3396),n=l(7139),i=l(9242);const s=(0,a.Uk)(" List Plant Type"),o=["value"],u={class:"m-2"},r=(0,a.Uk)("Selected: "),p=(0,a.Uk)(" Add Plant Type "),d={class:"table-responsive-lg"},c={class:"table"},h={class:"table-dark"},g=(0,a._)("th",null,"ID.",-1),m=(0,a._)("th",null,"Code",-1),_=(0,a._)("th",null,"Name",-1),y=(0,a._)("th",null,"Date create",-1),w=(0,a._)("th",null,"Date Update",-1),P=(0,a._)("th",null,null,-1),f=(0,a._)("th",null,null,-1),T={class:"cut_text_show"},b=["onClick"],C=["onClick"],v=["onClick"],k=(0,a.Uk)("Previous "),x=(0,a.Uk)("Next");function z(e,t,l,z,N,W){const $=(0,a.up)("CIcon"),D=(0,a.up)("CCardHeader"),B=(0,a.up)("CButton"),L=(0,a.up)("CRow"),Z=(0,a.up)("CPaginationItem"),I=(0,a.up)("CPagination"),U=(0,a.up)("CCardBody"),A=(0,a.up)("CCard"),S=(0,a.up)("CCol"),Y=(0,a.up)("Loading");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(L,null,{default:(0,a.w5)((()=>[(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a.Wm)(A,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,null,{default:(0,a.w5)((()=>[(0,a.Wm)($,{icon:"cil-drop"}),s])),_:1}),(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[(0,a.Wm)(L,null,{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>N.selectSizePage=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(N.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{value:e.value,key:t},(0,n.zw)(e.text),9,o)))),128))],512),[[i.bM,N.selectSizePage]]),(0,a._)("span",u,[r,(0,a._)("b",null,(0,n.zw)(N.selectSizePage),1)]),(0,a.wy)((0,a.Wm)(B,{onClick:t[1]||(t[1]=e=>W.addPlantType()),class:"btn btn-info text-light float-end mb-2"},{default:(0,a.w5)((()=>[p])),_:1},512),[[i.F8,"Admin"==N.role.roleName||"Editor"==N.role.roleName]])])])),_:1}),(0,a.Wm)(L,null,{default:(0,a.w5)((()=>[(0,a._)("div",d,[(0,a._)("table",c,[(0,a._)("thead",h,[(0,a._)("tr",null,[g,m,_,y,w,(0,a._)("th",null,(0,n.zw)(e.totalPages),1),P,f])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(N.plantTypes.content,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,n.zw)(t+1),1),(0,a._)("td",null,(0,n.zw)(e.code),1),(0,a._)("td",null,[(0,a._)("div",T,[(0,a._)("p",null,(0,n.zw)(e.namePlantType),1)])]),(0,a._)("td",null,(0,n.zw)(this.$formatDate.formatDate(e.createAt)),1),(0,a._)("td",null,(0,n.zw)(this.$formatDate.formatDate(e.updateAt)),1),(0,a._)("td",null,[(0,a._)("button",{class:"btn btn-outline-info rounded-pill p-0 px-4 ml-1",title:"detail",onClick:t=>W.detailPlantType(e.id)},[(0,a.Wm)($,{icon:z.icon.cilCompress,size:"m"},null,8,["icon"])],8,b)]),(0,a._)("td",null,[(0,a.wy)((0,a._)("button",{class:"btn btn-outline-warning rounded-pill p-0 px-4 mx-2",title:"edit",onClick:t=>W.updatePlantType(e.id)},[(0,a.Wm)($,{icon:z.icon.cilPen,size:"m"},null,8,["icon"])],8,C),[[i.F8,"Admin"==N.role.roleName||"Editor"==N.role.roleName]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("button",{class:"btn btn-outline-danger rounded-pill p-0 px-4",title:"delete",onClick:t=>W.deletePlantType(e.id)},[(0,a.Wm)($,{icon:z.icon.cilTrash,size:"m"},null,8,["icon"])],8,v),[[i.F8,"Admin"==N.role.roleName||"Editor"==N.role.roleName]])])])))),128))])])])])),_:1}),(0,a.Wm)(L,null,{default:(0,a.w5)((()=>[(0,a.Wm)(I,{class:"pagination justify-content-center","aria-label":"Page navigation example"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(Z,{style:{cursor:"pointer"},onClick:t[2]||(t[2]=e=>W.previousPage())},{default:(0,a.w5)((()=>[k])),_:1},512),[[i.F8,1!=N.pageNumber]]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(N.plantTypes.totalPages,((e,t)=>((0,a.wg)(),(0,a.j4)(Z,{style:{cursor:"pointer"},key:t,onClick:t=>W.setPage(e),class:(0,n.C_)(e==N.pageNumber?"active":"")},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e),1)])),_:2},1032,["onClick","class"])))),128)),(0,a.wy)((0,a.Wm)(Z,{style:{cursor:"pointer"},hidden:0==N.plantTypes.totalPages,onClick:t[3]||(t[3]=e=>W.nextPage())},{default:(0,a.w5)((()=>[x])),_:1},8,["hidden"]),[[i.F8,N.pageNumber!=N.plantTypes.totalPages]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(Y,{active:N.isLoading,"onUpdate:active":t[4]||(t[4]=e=>N.isLoading=e)},null,8,["active"])],64)}l(7658);var N=l(2872),W=l(6867),$={name:"PlantType",data(){return{plantTypes:[],pageNumber:1,role:this.$store.state.auth.user.user.role,orgId:this.$store.state.auth.user.user.organization.id,responseSuccess:!0,isLoading:!0,selectSizePage:15,options:[{text:"15",value:"15"},{text:"25",value:"25"},{text:"50",value:"50"},{text:"100",value:"100"}]}},methods:{fetchPlantTypes(){N.Z.getPlantTypes(`?size=${this.selectSizePage}&page=${this.pageNumber-1}&orgId=${this.orgId}`).then((e=>{setTimeout((()=>{this.isLoading=!1}),1e3),200===e.status&&(this.plantTypes=e.data)})).catch((()=>{this.isLoading=!1,this.$swal.fire("Warning!","The system is experiencing an error, please reload the page","warning")}))},detailPlantType(e){this.$router.push(`/plant_type/detail-plant_type/${e}`)},addPlantType(){this.$router.push("/plant_type/form-plant_type/null")},updatePlantType(e){this.$router.push(`/plant_type/form-plant_type/${e}`)},deletePlantType(e){this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",confirmButtonColor:"#55c663",reverseButtons:!0}).then((t=>{t.isConfirmed&&(this.isLoading=!0,N.Z.deletePlantTypeById(e).then((e=>{200===e.status&&(this.isLoading=!1,this.fetchPlantTypes(),this.$swal.fire("Deleted!","You have successfully deleted.","success"))})).catch((()=>{this.isLoading=!1,this.$swal.fire("Warning!","The system is experiencing an error, please reload the page","warning")})))}))},setPage(e){this.pageNumber=e},nextPage(){this.pageNumber=this.pageNumber+1},previousPage(){this.pageNumber=this.pageNumber-1}},created(){this.fetchPlantTypes()},setup(){return{icon:W}},watch:{selectSizePage(e,t){t!=e&&this.fetchPlantTypes()},pageNumber(e,t){t!=e&&this.fetchPlantTypes()}}},D=l(89);const B=(0,D.Z)($,[["render",z]]);var L=B}}]);
//# sourceMappingURL=665.67c48eec.js.map