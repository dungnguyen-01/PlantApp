"use strict";(self["webpackChunk_coreui_coreui_free_vue_admin_template"]=self["webpackChunk_coreui_coreui_free_vue_admin_template"]||[]).push([[54],{2872:function(e,t,a){var n=a(6265),s=a.n(n),l=a(8);const i="https://api.kintovn.com/api/v1/plant-type/";class r{getAllPlantTypes(e){return s().get(i+"list"+e,{headers:(0,l.Z)()})}getPlantTypes(e){return s().get(i+e,{headers:(0,l.Z)()})}getPlantTypeById(e){return s().get(i+e,{headers:(0,l.Z)()})}createPlantType(e){return s().post(i,e,{headers:(0,l.Z)()})}updatePlantType(e,t){return s().put(i+e,t,{headers:(0,l.Z)()})}deletePlantTypeById(e){return s().get(i+"delete/"+e,{headers:(0,l.Z)()})}}t["Z"]=new r},5054:function(e,t,a){a.r(t),a.d(t,{default:function(){return Z}});var n=a(3396),s=a(9242),l=a(7139);const i=(0,n.Uk)(" Form Plant Type "),r={class:"float-end text-danger"},o={class:"row mx-md-2"},d={class:"col-md-6"},c=(0,n._)("label",{for:"id",class:"form-label text"},"Id:",-1),p={class:"col-md-6"},u=(0,n._)("label",{for:"code",class:"form-label text"},"Code:",-1),h=(0,n._)("i",{class:"text-danger"},null,-1),m=(0,n._)("i",{class:"text-danger"},"*Enter numbers and alphabets only.",-1),y=(0,n._)("label",{for:"namePlantType",class:"form-label text"},"Name Plant Type:",-1),g={class:"text-danger"},_={class:"text-center my-1"},T=(0,n.Uk)(" Back "),f={class:"btn btn-outline-primary rounded-pill ms-2 px-4",title:"create",type:"submit"},P=(0,n.Uk)(" Create "),b={class:"btn btn-outline-success rounded-pill ms-2 px-4",title:"update",type:"submit"},w=(0,n.Uk)(" Update "),C=(0,n.Uk)(" Reset ");function L(e,t,a,L,k,v){const x=(0,n.up)("CIcon"),$=(0,n.up)("CCardHeader"),W=(0,n.up)("CRow"),Z=(0,n.up)("CCardBody"),U=(0,n.up)("CCardFooter"),z=(0,n.up)("CCard"),F=(0,n.up)("CCol"),I=(0,n.up)("Loading");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(W,null,{default:(0,n.w5)((()=>[(0,n.Wm)(F,null,{default:(0,n.w5)((()=>[(0,n.Wm)(z,null,{default:(0,n.w5)((()=>[(0,n._)("form",{onSubmit:t[5]||(t[5]=(0,s.iM)((e=>"null"==this.$route.params.id?v.createPlantType():v.updatePlantType()),["prevent"]))},[(0,n.Wm)($,null,{default:(0,n.w5)((()=>[(0,n.Wm)(x,{icon:"cil-drop"}),i,(0,n._)("span",r,(0,l.zw)(k.message),1)])),_:1}),(0,n.Wm)(Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(W,null,{default:(0,n.w5)((()=>[(0,n._)("div",o,[(0,n._)("div",d,[c,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control bg-light",placeholder:"id auto increment...",name:"id",readonly:"","onUpdate:modelValue":t[0]||(t[0]=e=>k.id=e)},null,512),[[s.nr,k.id]])]),(0,n._)("div",p,[u,h,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",placeholder:"enter 3 to 5 characters...",name:"code","onUpdate:modelValue":t[1]||(t[1]=e=>k.code=e),required:""},null,512),[[s.nr,k.code]]),m]),(0,n._)("div",null,[y,(0,n._)("i",g,(0,l.zw)(k.namePlantTypeError),1),(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",placeholder:"Name Plant Type...",name:"namePlantType","onUpdate:modelValue":t[2]||(t[2]=e=>k.namePlantType=e),required:""},null,512),[[s.nr,k.namePlantType]])])])])),_:1})])),_:1}),(0,n.Wm)(U,null,{default:(0,n.w5)((()=>[(0,n._)("div",_,[(0,n._)("button",{class:"btn btn-outline-info rounded-pill px-4",title:"back to list",onClick:t[3]||(t[3]=e=>v.backToList())},[(0,n.Wm)(x,{icon:L.icon.cilArrowLeft,size:"m"},null,8,["icon"]),T]),(0,n.wy)((0,n._)("button",f,[(0,n.Wm)(x,{icon:L.icon.cilPen,size:"m"},null,8,["icon"]),P],512),[[s.F8,"null"==this.$route.params.id]]),(0,n.wy)((0,n._)("button",b,[(0,n.Wm)(x,{icon:L.icon.cilTrash,size:"m"},null,8,["icon"]),w],512),[[s.F8,"null"!=this.$route.params.id]]),(0,n._)("button",{class:"btn btn-outline-warning rounded-pill ms-2 px-4",title:"reset",onClick:t[4]||(t[4]=e=>v.resetForm())},[(0,n.Wm)(x,{icon:L.icon.cilReload,size:"m"},null,8,["icon"]),C])])])),_:1})],32)])),_:1})])),_:1})])),_:1}),(0,n.Wm)(I,{active:k.isLoading,"onUpdate:active":t[6]||(t[6]=e=>k.isLoading=e)},null,8,["active"])],64)}a(7658);var k=a(2872),v=a(6867),x={name:"FormLoaction",data(){return{id:"",namePlantType:"",namePlantTypeError:"",code:"",message:"",isLoading:!1,organization:this.$store.state.auth.user.user.organization}},computed:{plantTypeId(){return this.$route.params.id}},methods:{getDetailPlantType(){"null"!==this.plantTypeId&&(this.isLoading=!0,k.Z.getPlantTypeById(this.plantTypeId).then((e=>{200==e.status&&(this.isLoading=!1,this.id=e.data.id,this.namePlantType=e.data.namePlantType,this.code=e.data.code)})).catch((()=>{this.isLoading=!1,this.$swal.fire("Warning!","The system is experiencing an error, please reload the page","warning")})))},createPlantType(){0==this.onlyLetters(this.code)||this.code.length<=2||this.code.length>=6?this.message="enter 3 to 5 characters and numbers (A-Z, 0-9) without spaces and special characters.":(this.isLoading=!0,k.Z.createPlantType({namePlantType:this.namePlantType,organization:this.organization,code:this.code.toUpperCase()}).then((e=>{200==e.status&&(this.isLoading=!1,this.$swal.fire("Success!","Create successfully!","success"),this.$router.push("/plant_type/list-plant_type"))})).catch((e=>{this.isLoading=!1,this.$swal.fire("Failed!","Please check again!","error"),this.message=e.response.data.error})))},updatePlantType(){0==this.onlyLetters(this.code)||this.code.length<=2||this.code.length>=6?this.message="Enter 3 to 5 characters and numbers (A-Z, 0-9) without spaces and special characters.":(this.isLoading=!0,k.Z.updatePlantType(this.id,{id:this.id,namePlantType:this.namePlantType,organization:this.organization,code:this.code.toUpperCase()}).then((e=>{200==e.status&&(this.isLoading=!1,this.$swal.fire("Success!","Update successfully!","success"),this.$router.push("/plant_type/list-plant_type"))})).catch((e=>{this.isLoading=!1,this.$swal.fire("Failed!","Please check again!","error"),this.message=e.response.data.error})))},backToList(){this.$router.push("/plant_type/list-plant_type")},resetForm(){this.$router.push("/plant_type/form-plant_type/null"),this.id="",this.namePlantType="",this.message=""},onlyLetters(e){return/^[A-Z0-9]+$/.test(e)}},setup(){return{icon:v}},created(){this.getDetailPlantType()}},$=a(89);const W=(0,$.Z)(x,[["render",L]]);var Z=W}}]);
//# sourceMappingURL=54.d942f0b9.js.map