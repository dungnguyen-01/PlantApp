"use strict";(self["webpackChunk_coreui_coreui_free_vue_admin_template"]=self["webpackChunk_coreui_coreui_free_vue_admin_template"]||[]).push([[325],{2556:function(e,t,n){var a=n(6265),i=n.n(a),l=n(8);const o="https://api.kintovn.com/api/v1/organization/";class s{getAllOrganizations(){return i().get(o+"list",{headers:(0,l.Z)()})}getAllSelectByUserOrganizations(){return i().get(o+"list-user",{headers:(0,l.Z)()})}getOrganizations(e){return i().get(o+e,{headers:(0,l.Z)()})}getOrganizationById(e){return i().get(o+e,{headers:(0,l.Z)()})}createOrganization(e){return i().post(o,e,{headers:(0,l.Z)()})}updateOrganization(e,t){return i().put(o+e,t,{headers:(0,l.Z)()})}deleteOrganizationById(e){return i().get(o+"delete/"+e,{headers:(0,l.Z)()})}}t["Z"]=new s},8325:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var a=n(3396),i=n(7139),l=n(9242);const o=(0,a.Uk)(" List Organization"),s=["value"],r={class:"m-2"},u=(0,a.Uk)("Selected: "),d=(0,a.Uk)(" Add Organization "),g={class:"table-responsive-lg"},c={class:"table"},h=(0,a._)("thead",{class:"table-dark"},[(0,a._)("tr",null,[(0,a._)("th",null,"No."),(0,a._)("th",null,"Name"),(0,a._)("th",null,"Date create"),(0,a._)("th",null,"Date update"),(0,a._)("th"),(0,a._)("th"),(0,a._)("th")])],-1),p={class:"cut_text_show"},m=["onClick"],_=["onClick","hidden"],z=["onClick","hidden"],w=(0,a.Uk)("Previous "),f=(0,a.Uk)("Next");function b(e,t,n,b,C,v){const k=(0,a.up)("CIcon"),O=(0,a.up)("CCardHeader"),x=(0,a.up)("CButton"),y=(0,a.up)("CRow"),P=(0,a.up)("CPaginationItem"),W=(0,a.up)("CPagination"),N=(0,a.up)("CCardBody"),D=(0,a.up)("CCard"),$=(0,a.up)("CCol"),B=(0,a.up)("Loading");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)($,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,null,{default:(0,a.w5)((()=>[(0,a.Wm)(O,null,{default:(0,a.w5)((()=>[(0,a.Wm)(k,{icon:"cil-drop"}),o])),_:1}),(0,a.Wm)(N,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>C.selectSizePage=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{value:e.value,key:t},(0,i.zw)(e.text),9,s)))),128))],512),[[l.bM,C.selectSizePage]]),(0,a._)("span",r,[u,(0,a._)("b",null,(0,i.zw)(C.selectSizePage),1)]),(0,a.Wm)(x,{onClick:t[1]||(t[1]=e=>v.addOrganization()),class:"btn btn-info text-light float-end mb-2"},{default:(0,a.w5)((()=>[d])),_:1})])])),_:1}),(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a._)("div",g,[(0,a._)("table",c,[h,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.organizations.content,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,i.zw)(t+1),1),(0,a._)("td",null,[(0,a._)("div",p,[(0,a._)("p",null,(0,i.zw)(e.name),1)])]),(0,a._)("td",null,(0,i.zw)(this.$formatDate.formatDate(e.createAt)),1),(0,a._)("td",null,(0,i.zw)(this.$formatDate.formatDate(e.updateAt)),1),(0,a._)("td",null,[(0,a._)("button",{class:"btn btn-outline-info rounded-pill p-0 px-4 ml-1",title:"detail",onClick:t=>v.detailOrganization(e.id)},[(0,a.Wm)(k,{icon:b.icon.cilCompress,size:"m"},null,8,["icon"])],8,m)]),(0,a._)("td",null,[(0,a._)("button",{class:"btn btn-outline-warning rounded-pill p-0 px-4 mx-2",title:"edit",onClick:t=>v.updateOrganization(e.id),hidden:"KintoVN"==e.name},[(0,a.Wm)(k,{icon:b.icon.cilPen,size:"m"},null,8,["icon"])],8,_)]),(0,a._)("td",null,[(0,a._)("button",{class:"btn btn-outline-danger rounded-pill p-0 px-4",title:"delete",onClick:t=>v.deleteOrganization(e.id),hidden:"KintoVN"==e.name},[(0,a.Wm)(k,{icon:b.icon.cilTrash,size:"m"},null,8,["icon"])],8,z)])])))),128))])])])])),_:1}),(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W,{class:"pagination justify-content-center","aria-label":"Page navigation example"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(P,{style:{cursor:"pointer"},onClick:t[2]||(t[2]=e=>v.previousPage())},{default:(0,a.w5)((()=>[w])),_:1},512),[[l.F8,1!=C.pageNumber]]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.organizations.totalPages,((e,t)=>((0,a.wg)(),(0,a.j4)(P,{style:{cursor:"pointer"},key:t,onClick:t=>v.setPage(e),class:(0,i.C_)(e==C.pageNumber?"active":"")},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e),1)])),_:2},1032,["onClick","class"])))),128)),(0,a.wy)((0,a.Wm)(P,{style:{cursor:"pointer"},hidden:0==C.organizations.totalPages,onClick:t[3]||(t[3]=e=>v.nextPage())},{default:(0,a.w5)((()=>[f])),_:1},8,["hidden"]),[[l.F8,C.pageNumber!=C.organizations.totalPages]])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(B,{active:C.isLoading,"onUpdate:active":t[4]||(t[4]=e=>C.isLoading=e)},null,8,["active"])],64)}n(7658);var C=n(2556),v=n(6867),k={name:"Organization",data(){return{pageNumber:1,organizations:[],responseSuccess:!0,isLoading:!0,selectSizePage:15,options:[{text:"15",value:"15"},{text:"25",value:"25"},{text:"50",value:"50"},{text:"100",value:"100"}]}},methods:{fetchOrganizations(){C.Z.getOrganizations(`?size=${this.selectSizePage}&page=${this.pageNumber-1}`).then((e=>{200===e.status&&(setTimeout((()=>{this.isLoading=!1}),1e3),this.organizations=e.data)})).catch((()=>{this.isLoading=!1,this.$swal.fire("Warning!","The system is experiencing an error, please reload the page","warning")}))},detailOrganization(e){this.$router.push(`/organization/detail-organization/${e}`)},addOrganization(){this.$router.push("/organization/form-organization/null")},updateOrganization(e){this.$router.push(`/organization/form-organization/${e}`)},deleteOrganization(e){this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",confirmButtonColor:"#55c663",reverseButtons:!0}).then((t=>{t.isConfirmed&&(this.isLoading=!0,C.Z.deleteOrganizationById(e).then((e=>{200===e.status&&(this.isLoading=!1,this.fetchOrganizations(),this.$swal.fire("Deleted!","You have successfully deleted.","success"))})).catch((()=>{this.isLoading=!1,this.$swal.fire("Warning!","The system is experiencing an error, please reload the page","warning")})))}))},setPage(e){this.pageNumber=e},nextPage(){this.pageNumber=this.pageNumber+1},previousPage(){this.pageNumber=this.pageNumber-1}},created(){this.fetchOrganizations()},setup(){return{icon:v}},watch:{selectSizePage(e,t){t!=e&&this.fetchOrganizations()},pageNumber(e,t){t!=e&&this.fetchOrganizations()}}},O=n(89);const x=(0,O.Z)(k,[["render",b]]);var y=x}}]);
//# sourceMappingURL=325.fdcbc3ab.js.map